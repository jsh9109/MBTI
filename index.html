<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTIä¸“ä¸š16å‹äººæ ¼æµ‹è¯• - å‘ç°çœŸå®çš„è‡ªå·±</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Noto+Sans+SC:wght@400;500;700&display=swap');

body {
    font-family: 'Noto Sans SC', 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.3) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.card {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    padding: 48px;
    box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.3),
        0 0 100px rgba(138, 43, 226, 0.2);
    margin-bottom: 20px;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.header {
    text-align: center;
    margin-bottom: 48px;
}

.header h1 {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 3em;
    margin-bottom: 16px;
    font-weight: 800;
    letter-spacing: -1px;
    font-family: 'Montserrat', sans-serif;
}

.header p {
    color: #666;
    font-size: 1.2em;
    margin-bottom: 12px;
    font-weight: 400;
}

.badge {
    display: inline-block;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 10px 24px;
    border-radius: 24px;
    font-size: 0.9em;
    margin-top: 12px;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

.dimensions-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 40px 0;
}

.dimension-card {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 28px;
    border-radius: 16px;
    text-align: center;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
}

.dimension-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    opacity: 0;
    transition: opacity 0.4s;
    z-index: 0;
}

.dimension-card:hover::before {
    opacity: 0.1;
}

.dimension-card:hover {
    transform: translateY(-8px);
    border-color: #667eea;
    box-shadow: 0 12px 30px rgba(102, 126, 234, 0.3);
}

.dimension-card > * {
    position: relative;
    z-index: 1;
}

.dimension-icon {
    font-size: 3.5em;
    margin-bottom: 12px;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
}

.dimension-name {
    color: #667eea;
    font-weight: 700;
    font-size: 1.3em;
    margin-bottom: 8px;
    font-family: 'Montserrat', sans-serif;
}

.dimension-desc {
    color: #666;
    font-size: 0.95em;
    line-height: 1.6;
}

.features-list {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 32px;
    border-radius: 16px;
    margin: 40px 0;
}

.features-list h3 {
    color: #667eea;
    margin-bottom: 20px;
    font-size: 1.5em;
    font-weight: 700;
    font-family: 'Montserrat', sans-serif;
}

.features-list ul {
    list-style: none;
}

.features-list li {
    padding: 14px 0;
    color: #666;
    font-size: 1.05em;
    border-bottom: 1px solid rgba(102, 126, 234, 0.1);
    transition: all 0.3s;
}

.features-list li:hover {
    color: #667eea;
    padding-left: 8px;
}

.features-list li:before {
    content: "âœ“ ";
    color: #667eea;
    font-weight: bold;
    margin-right: 12px;
    font-size: 1.2em;
}

.input-group {
    margin: 40px 0;
}

.input-group input {
    width: 100%;
    padding: 20px;
    border: 2px solid rgba(102, 126, 234, 0.3);
    border-radius: 16px;
    font-size: 1.1em;
    text-align: center;
    transition: all 0.3s;
    letter-spacing: 2px;
    font-weight: 600;
    background: white;
}

.input-group input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    transform: translateY(-2px);
}

.btn {
    width: 100%;
    padding: 20px;
    border: none;
    border-radius: 16px;
    font-size: 1.2em;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    margin-top: 16px;
    font-family: 'Montserrat', sans-serif;
    letter-spacing: 0.5px;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
}

.btn-primary:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 40px rgba(102, 126, 234, 0.5);
}

.btn-primary:active {
    transform: translateY(-2px);
}

.btn-secondary {
    background: white;
    color: #667eea;
    border: 2px solid #667eea;
}

.btn-secondary:hover {
    background: #f5f7ff;
    transform: translateY(-2px);
}

.btn-upload {
    background: linear-gradient(135deg, #b8860b 0%, #8b6914 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.error-message {
    background: linear-gradient(135deg, #ffe0e0 0%, #ffc0c0 100%);
    color: #d32f2f;
    padding: 16px;
    border-radius: 12px;
    margin-top: 16px;
    text-align: center;
    display: none;
    font-weight: 600;
    animation: shake 0.5s;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
    20%, 40%, 60%, 80% { transform: translateX(4px); }
}

.privacy-note {
    margin-top: 24px;
    background: rgba(255, 255, 255, 0.9);
    text-align: left;
    line-height: 1.7;
    color: #666;
    padding: 20px;
    border-radius: 12px;
}

.privacy-note strong {
    color: #667eea;
}

.admin-link {
    text-align: center;
    margin-top: 32px;
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9em;
    cursor: pointer;
    transition: all 0.3s;
    font-weight: 600;
}

.admin-link:hover {
    color: white;
    text-shadow: 0 2px 8px rgba(255, 255, 255, 0.5);
}

.progress-bar {
    width: 100%;
    height: 10px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 10px;
    margin-bottom: 24px;
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
}

.progress-text {
    text-align: center;
    color: #667eea;
    font-weight: 700;
    margin-bottom: 32px;
    font-size: 1.2em;
    font-family: 'Montserrat', sans-serif;
}

.question-card {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 36px;
    border-radius: 16px;
    margin-bottom: 32px;
    border: 2px solid rgba(102, 126, 234, 0.2);
}

.question-text {
    color: #333;
    font-size: 1.4em;
    font-weight: 700;
    margin-bottom: 28px;
    line-height: 1.6;
}

.options {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.option {
    padding: 20px;
    background: white;
    border: 2px solid rgba(102, 126, 234, 0.2);
    border-radius: 14px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 1.05em;
    color: #666;
    font-weight: 500;
}

.option:hover {
    border-color: #667eea;
    background: #f5f7ff;
    transform: translateX(8px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
}

.option.selected {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-color: #764ba2;
    transform: translateX(8px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.navigation-buttons {
    display: flex;
    gap: 16px;
}

.navigation-buttons .btn {
    margin-top: 0;
}

.result-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 48px;
    border-radius: 24px;
    text-align: center;
    margin-bottom: 32px;
    box-shadow: 0 12px 40px rgba(102, 126, 234, 0.5);
}

.result-banner h2 {
    font-size: 2.5em;
    margin-bottom: 16px;
    font-weight: 800;
    font-family: 'Montserrat', sans-serif;
}

.mbti-type {
    font-size: 5em;
    font-weight: 900;
    margin: 24px 0;
    letter-spacing: 8px;
    text-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    font-family: 'Montserrat', sans-serif;
}

.mbti-label {
    display: inline-block;
    background: rgba(255, 255, 255, 0.3);
    padding: 12px 32px;
    border-radius: 28px;
    font-size: 1.3em;
    font-weight: 700;
    backdrop-filter: blur(10px);
}

.chart-container {
    position: relative;
    height: 400px;
    margin: 48px 0;
}

.scores-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 40px 0;
}

.score-item {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 24px;
    border-radius: 14px;
    border-left: 5px solid #667eea;
    transition: all 0.3s;
}

.score-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
}

.score-item-name {
    color: #667eea;
    font-weight: 700;
    margin-bottom: 10px;
    font-size: 1.1em;
}

.score-item-value {
    font-size: 2em;
    color: #333;
    font-weight: 800;
    font-family: 'Montserrat', sans-serif;
}

.score-item-desc {
    color: #999;
    font-size: 0.9em;
    margin-top: 6px;
}

.type-card {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 36px;
    border-radius: 16px;
    margin: 40px 0;
    border: 3px solid #667eea;
}

.type-card h3 {
    color: #667eea;
    font-size: 2em;
    margin-bottom: 16px;
    font-weight: 800;
    font-family: 'Montserrat', sans-serif;
}

.type-card p {
    color: #666;
    line-height: 1.9;
    font-size: 1.1em;
}

.characteristics {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin: 32px 0;
}

.characteristic-item {
    background: white;
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    transition: all 0.3s;
    border: 2px solid transparent;
}

.characteristic-item:hover {
    border-color: #667eea;
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(102, 126, 234, 0.2);
}

.characteristic-title {
    color: #667eea;
    font-weight: 700;
    margin-bottom: 12px;
    font-size: 1.1em;
}

.characteristic-list {
    font-size: 0.95em;
    color: #666;
    line-height: 1.7;
}

.basic-advice {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 28px;
    border-radius: 16px;
    margin: 32px 0;
}

.basic-advice h4 {
    color: #667eea;
    margin-bottom: 16px;
    font-size: 1.3em;
    font-weight: 700;
}

.basic-advice ul {
    list-style: none;
}

.basic-advice li {
    padding: 12px 0;
    color: #666;
    border-bottom: 1px solid rgba(102, 126, 234, 0.1);
    line-height: 1.7;
}

.basic-advice li:before {
    content: "ğŸ’¡ ";
    margin-right: 10px;
}

.unlock-section {
    background: linear-gradient(135deg, #fff9e6 0%, #ffe8b3 100%);
    padding: 48px;
    border-radius: 24px;
    margin: 48px 0;
    border: 3px solid #ffd700;
    box-shadow: 0 12px 30px rgba(255, 215, 0, 0.3);
}

.unlock-title {
    color: #b8860b;
    font-size: 2em;
    text-align: center;
    margin-bottom: 28px;
    font-weight: 800;
    line-height: 1.5;
}

.unlock-title strong {
    color: #b8860b;
}

.comparison-table {
    background: white;
    padding: 28px;
    border-radius: 16px;
    margin: 28px 0;
}

.comparison-row {
    display: flex;
    justify-content: space-between;
    padding: 16px 0;
    border-bottom: 1px solid rgba(255, 215, 0, 0.2);
    align-items: center;
}

.comparison-row:last-child {
    border-bottom: none;
}

.comparison-free {
    color: #999;
    font-size: 1em;
}

.comparison-paid {
    color: #b8860b;
    font-weight: 700;
    font-size: 1.05em;
}

.price-tag {
    text-align: center;
    margin: 36px 0;
}

.original-price {
    text-decoration: line-through;
    color: #999;
    font-size: 1.3em;
    font-weight: 600;
}

.current-price {
    color: #b8860b;
    font-size: 3.5em;
    font-weight: 900;
    margin: 12px 0;
    font-family: 'Montserrat', sans-serif;
}

.price-note {
    color: #666;
    font-size: 0.95em;
}

.payment-section {
    width: 100%;
    max-width: 500px;
    margin: 24px auto 0 auto;
    background: white;
    padding: 32px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.quick-pay-buttons {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-bottom: 24px;
}

.payment-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 18px;
    border-radius: 12px;
    font-size: 1.05em;
    font-weight: 700;
    text-decoration: none;
    color: white;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
}

.payment-btn .icon {
    margin-right: 10px;
    font-size: 1.2em;
}

.payment-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

.payment-btn.alipay {
    background: linear-gradient(135deg, #00A3EE 0%, #0081CC 100%);
}

.payment-btn.wechat {
    background: linear-gradient(135deg, #07C160 0%, #05A050 100%);
}

.divider-or {
    text-align: center;
    color: #aaa;
    margin: 28px 0;
    position: relative;
    font-weight: 600;
}

.divider-or span {
    background: white;
    padding: 0 12px;
    position: relative;
    z-index: 1;
}

.divider-or:before {
    content: "";
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    height: 1px;
    background: #e0e0e0;
    z-index: 0;
}

.scan-title, .transfer-title {
    font-size: 1.1em;
    font-weight: 700;
    color: #333;
    text-align: center;
    margin-bottom: 24px;
}

.qr-code-grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 28px;
    text-align: center;
}

.qr-code-item {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.qr-code-item img {
    width: 160px;
    height: 160px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: all 0.3s;
}

.qr-code-item img:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
}

.scan-tip {
    text-align: center;
    font-size: 0.9em;
    color: #888;
    background: #fafafa;
    padding: 12px;
    border-radius: 8px;
    margin-top: 24px;
    line-height: 1.6;
}

.transfer-payment {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.copy-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #f8f9fa;
    padding: 14px 18px;
    border-radius: 10px;
}

.copy-item span {
    font-size: 1em;
    color: #333;
    font-weight: 600;
    word-break: break-all;
}

.copy-item button {
    padding: 10px 18px;
    border: none;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 700;
    margin-left: 12px;
    flex-shrink: 0;
    transition: all 0.3s;
}

.copy-item button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.report-section {
    background: white;
    padding: 40px;
    border-radius: 16px;
    margin: 32px 0;
    border-left: 6px solid #667eea;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.report-section h3 {
    color: #667eea;
    font-size: 2em;
    margin-bottom: 24px;
    font-weight: 800;
    font-family: 'Montserrat', sans-serif;
}

.report-section h4 {
    color: #764ba2;
    font-size: 1.5em;
    margin: 32px 0 16px 0;
    font-weight: 700;
}

.report-section p {
    color: #666;
    line-height: 1.9;
    font-size: 1.1em;
    margin-bottom: 16px;
}

.personality-types {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin: 32px 0;
}

.personality-type {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    transition: all 0.3s;
    border: 2px solid transparent;
}

.personality-type.current {
    border: 3px solid #667eea;
    background: linear-gradient(135deg, #e8ecff 0%, #d4dbff 100%);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
    transform: scale(1.05);
}

.personality-type:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
}

.type-number {
    color: #667eea;
    font-weight: 700;
    margin-bottom: 8px;
    font-size: 0.9em;
}

.type-name {
    color: #333;
    font-weight: 700;
    font-size: 1.1em;
    margin-bottom: 6px;
    font-family: 'Montserrat', sans-serif;
}

.type-score {
    color: #999;
    font-size: 0.85em;
}

.action-plan {
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    padding: 28px;
    border-radius: 16px;
    margin: 32px 0;
}

.action-plan h4 {
    color: #2e7d32;
    margin-bottom: 16px;
    font-weight: 700;
}

.action-plan ul {
    list-style: none;
}

.action-plan li {
    padding: 14px 0;
    color: #555;
    border-bottom: 1px solid #a5d6a7;
    line-height: 1.7;
}

.action-plan li:before {
    content: "âœ“ ";
    color: #2e7d32;
    font-weight: bold;
    margin-right: 10px;
    font-size: 1.2em;
}

.resource-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    margin: 32px 0;
}

.resource-card {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 24px;
    border-radius: 14px;
    text-align: center;
    transition: all 0.3s;
}

.resource-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
}

.resource-icon {
    font-size: 3em;
    margin-bottom: 12px;
}

.resource-title {
    color: #667eea;
    font-weight: 700;
    margin-bottom: 12px;
    font-size: 1.1em;
}

.resource-list {
    font-size: 0.95em;
    color: #666;
    line-height: 1.7;
}

.dos-donts {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 24px;
    margin: 32px 0;
}

.dos-card {
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    padding: 28px;
    border-radius: 16px;
}

.donts-card {
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    padding: 28px;
    border-radius: 16px;
}

.dos-card h4 {
    color: #2e7d32;
    margin-bottom: 16px;
    font-weight: 700;
    font-size: 1.3em;
}

.donts-card h4 {
    color: #c62828;
    margin-bottom: 16px;
    font-weight: 700;
    font-size: 1.3em;
}

.dos-card ul, .donts-card ul {
    list-style: none;
}

.dos-card li, .donts-card li {
    padding: 10px 0;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    line-height: 1.6;
}

.thank-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 36px;
    border-radius: 16px;
    text-align: center;
    margin: 32px 0;
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
}

.thank-banner h3 {
    font-size: 2em;
    margin-bottom: 12px;
    font-weight: 800;
}

.admin-panel {
    background: white;
    padding: 48px;
    border-radius: 24px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
}

.admin-panel h2 {
    color: #667eea;
    margin-bottom: 32px;
    text-align: center;
    font-size: 2.5em;
    font-weight: 800;
    font-family: 'Montserrat', sans-serif;
}

.admin-section-title {
    margin: 32px 0 16px 0;
    color: #667eea;
    font-weight: 700;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin: 40px 0;
}

.stat-card {
    background: linear-gradient(135deg, #f5f7ff 0%, #e8ecff 100%);
    padding: 24px;
    border-radius: 14px;
    text-align: center;
    transition: all 0.3s;
}

.stat-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
}

.stat-number {
    font-size: 3em;
    color: #667eea;
    font-weight: 900;
    font-family: 'Montserrat', sans-serif;
}

.stat-label {
    color: #666;
    margin-top: 12px;
    font-size: 0.95em;
    font-weight: 600;
}

.recent-records {
    background: #f9f9f9;
    padding: 24px;
    border-radius: 14px;
    margin: 32px 0;
    max-height: 340px;
    overflow-y: auto;
}

.record-item {
    padding: 14px;
    border-bottom: 1px solid #eee;
    font-size: 0.95em;
    color: #666;
    font-family: 'Monaco', 'Courier New', monospace;
}

.hidden {
    display: none !important;
}

@media (max-width: 768px) {
    body {
        padding: 12px;
    }
    
    .card {
        padding: 28px;
    }
    
    .header h1 {
        font-size: 2em;
    }
    
    .dimensions-grid {
        grid-template-columns: 1fr;
    }
    
    .chart-container {
        height: 320px;
    }
    
    .scores-list {
        grid-template-columns: 1fr;
    }
    
    .characteristics {
        grid-template-columns: 1fr;
    }
    
    .personality-types {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .resource-grid {
        grid-template-columns: 1fr;
    }
    
    .dos-donts {
        grid-template-columns: 1fr;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .navigation-buttons {
        flex-direction: column;
    }
    
    .mbti-type {
        font-size: 3.5em;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <!-- å¡å¯†éªŒè¯é¡µé¢ -->
        <div id="cardVerifyPage" class="card">
            <div class="header">
                <h1>ğŸ§  MBTI 16å‹äººæ ¼æµ‹è¯•</h1>
                <p>å‘ç°çœŸå®çš„è‡ªå·±ï¼Œç†è§£ç‹¬ç‰¹çš„äººæ ¼</p>
                <span class="badge">ğŸ”¬ åŸºäºè£æ ¼å¿ƒç†å­¦ä¸MBTIç†è®ºçš„ä¸“ä¸šè¯„ä¼°</span>
            </div>
            
            <div class="input-group">
                <input type="text" id="cardInput" placeholder="è¯·è¾“å…¥æµ‹è¯„å¡å·" maxlength="20">
            </div>
            
            <button class="btn btn-primary" onclick="verifyCard()">ğŸš€ å¼€å§‹æµ‹è¯„</button>
            
            <div class="dimensions-grid">
                <div class="dimension-card">
                    <div class="dimension-icon">ğŸŒ</div>
                    <div class="dimension-name">å¤–å‘ E vs å†…å‘ I</div>
                    <div class="dimension-desc">ä½ çš„èƒ½é‡æ¥æºä¸ç¤¾äº¤åå¥½</div>
                </div>
                <div class="dimension-card">
                    <div class="dimension-icon">ğŸ‘ï¸</div>
                    <div class="dimension-name">å®æ„Ÿ S vs ç›´è§‰ N</div>
                    <div class="dimension-desc">ä½ çš„ä¿¡æ¯è·å–æ–¹å¼</div>
                </div>
                <div class="dimension-card">
                    <div class="dimension-icon">ğŸ’­</div>
                    <div class="dimension-name">æ€è€ƒ T vs æƒ…æ„Ÿ F</div>
                    <div class="dimension-desc">ä½ çš„å†³ç­–åˆ¤æ–­æ–¹å¼</div>
                </div>
                <div class="dimension-card">
                    <div class="dimension-icon">ğŸ“‹</div>
                    <div class="dimension-name">åˆ¤æ–­ J vs æ„ŸçŸ¥ P</div>
                    <div class="dimension-desc">ä½ çš„ç”Ÿæ´»æ–¹å¼å€¾å‘</div>
                </div>
            </div>
            
            <div class="features-list">
                <h3>ğŸ“‹ æµ‹è¯„åŒ…å«</h3>
                <ul>
                    <li>60é¢˜ä¸“ä¸šå¿ƒç†é‡è¡¨ï¼ˆæ¯ç»´åº¦15é¢˜ï¼‰</li>
                    <li>4å¤§æ ¸å¿ƒç»´åº¦æ·±åº¦åˆ†æ</li>
                    <li>16å‹äººæ ¼ç²¾å‡†åŒ¹é…</li>
                    <li><strong style="color:#b8860b;">1000å­—æ·±åº¦æŠ¥å‘Š+ä¸“å±è¡ŒåŠ¨æ–¹æ¡ˆ (Â¥1.9è§£é”)</strong></li>
                </ul>
            </div>
            
            <div class="error-message" id="errorMessage"></div>
            
            <div class="privacy-note">
                ğŸ”’ <strong>éšç§å£°æ˜ï¼š</strong> æœ¬æµ‹è¯„æ‰€æœ‰æ•°æ®å¤„ç†å‡åœ¨æ‚¨çš„è®¾å¤‡æœ¬åœ°å®Œæˆï¼Œå¡å·ä¿¡æ¯ä¹Ÿå­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚æˆ‘ä»¬é‡è§†æ‚¨çš„éšç§å®‰å…¨ã€‚
            </div>
            
<div onclick="showAdminPanel()" style="position:fixed; bottom:20px; right:20px; background:#667eea; color:white; padding:15px 25px; border-radius:50px; cursor:pointer; box-shadow:0 4px 15px rgba(0,0,0,0.3); font-weight:bold; z-index:9999;">ğŸ” ç®¡ç†å‘˜</div>
        </div>
        
        <!-- æµ‹è¯•é¡µé¢ -->
        <div id="testPage" class="card hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">ç¬¬1é¢˜ / å…±60é¢˜</div>
            
            <div class="question-card">
                <div class="question-text" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="prevBtn" onclick="prevQuestion()" style="display: none;">â† ä¸Šä¸€é¢˜</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â†’</button>
            </div>
        </div>
        
        <!-- å…è´¹ç»“æœé¡µé¢ -->
        <div id="freeResultPage" class="card hidden">
            <div class="result-banner">
                <h2>ğŸ§  MBTI äººæ ¼æµ‹è¯„</h2>
                <p style="font-size: 1.3em; margin-top: 16px;">æ‚¨çš„äººæ ¼ç±»å‹ï¼ˆåŸºç¡€ç‰ˆï¼‰</p>
                <div class="mbti-type" id="mbtiType">INTJ</div>
                <div class="mbti-label" id="mbtiLabel">å»ºç­‘å¸ˆ (Architect)</div>
            </div>
            
            <div class="chart-container">
                <canvas id="radarChart"></canvas>
            </div>
            
            <div class="scores-list" id="scoresList"></div>
            
            <div class="type-card">
                <h3 id="typeName">"å»ºç­‘å¸ˆ"äººæ ¼</h3>
                <p id="typeDesc">ä½ æ˜¯ä¸€ä¸ªå……æ»¡æƒ³è±¡åŠ›å’Œæˆ˜ç•¥æ€§æ€ç»´çš„å®Œç¾ä¸»ä¹‰è€…ã€‚ä½ ç”¨ç‹¬ç‰¹çš„è§†è§’çœ‹å¾…ä¸–ç•Œï¼Œæ€»æ˜¯åœ¨å¯»æ‰¾æ”¹è¿›çš„æ–¹æ³•ã€‚</p>
            </div>
            
            <div class="characteristics">
                <div class="characteristic-item">
                    <div class="characteristic-title">ğŸ˜Š æ ¸å¿ƒä¼˜åŠ¿</div>
                    <div class="characteristic-list" id="strengthsList">
                        â€¢ æˆ˜ç•¥æ€ç»´<br>
                        â€¢ ç‹¬ç«‹è‡ªä¸»<br>
                        â€¢ åˆ›æ–°èƒ½åŠ›
                    </div>
                </div>
                <div class="characteristic-item">
                    <div class="characteristic-title">âš ï¸ æˆé•¿ç©ºé—´</div>
                    <div class="characteristic-list" id="weaknessesList">
                        â€¢ è¿‡äºç†æ€§<br>
                        â€¢ ç¤¾äº¤å›°éš¾<br>
                        â€¢ å®Œç¾ä¸»ä¹‰
                    </div>
                </div>
                <div class="characteristic-item">
                    <div class="characteristic-title">ğŸ’¡ èŒä¸šå»ºè®®</div>
                    <div class="characteristic-list" id="careersList">
                        â€¢ ç§‘å­¦å®¶<br>
                        â€¢ å·¥ç¨‹å¸ˆ<br>
                        â€¢ æˆ˜ç•¥é¡¾é—®
                    </div>
                </div>
            </div>
            
            <div class="basic-advice">
                <h4>ğŸ’¡ åŸºç¡€ç‰ˆå»ºè®®</h4>
                <ul>
                    <li>å­¦ä¹ åœ¨ç†æ€§åˆ†æä¸­èå…¥æƒ…æ„Ÿè€ƒé‡ï¼Œå»ºç«‹æ›´æ·±å±‚çš„äººé™…è¿æ¥ã€‚</li>
                    <li>å°è¯•æ¥å—"è¶³å¤Ÿå¥½"ï¼Œä¸è¦æ€»æ˜¯è¿½æ±‚å®Œç¾ã€‚</li>
                    <li>ä½ å·²ç»å¾ˆå‡ºè‰²äº†ï¼Œä½†è§£é”å®Œæ•´æŠ¥å‘Šèƒ½å¸®ä½ å‘æŒ¥æ›´å¤§æ½œåŠ›ã€‚</li>
                </ul>
            </div>
            
            <div class="unlock-section">
                <h3 class="unlock-title">
                    æ‚¨çš„<strong>åŸºç¡€ç‰ˆ</strong>æŠ¥å‘Šå·²å‡º ğŸ‘‡<br>
                    å¦‚éœ€ <strong>16å‹äººæ ¼å…¨å›¾é‰´</strong> å’Œ <strong>1000å­—æ·±åº¦åˆ†æ</strong>ï¼Œå¯ä»˜è´¹è§£é”ï¼š
                </h3>
                
                <div class="comparison-table">
                    <div class="comparison-row">
                        <span class="comparison-free">åŸºç¡€äººæ ¼ï¼ˆ1ç§ï¼‰</span>
                        <span>â†’</span>
                        <span class="comparison-paid">16å‹äººæ ¼å…¨å›¾é‰´</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-free">åŸºç¡€èŒä¸šå»ºè®®</span>
                        <span>â†’</span>
                        <span class="comparison-paid">50+ ç²¾å‡†èŒä¸šæ¨è</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-free">åŸºç¡€åˆ†æ</span>
                        <span>â†’</span>
                        <span class="comparison-paid">1000å­—æ·±åº¦å¿ƒç†åˆ†æ</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-free">æ— è¡ŒåŠ¨æ–¹æ¡ˆ</span>
                        <span>â†’</span>
                        <span class="comparison-paid">ä¸“å±è¡ŒåŠ¨æ–¹æ¡ˆä¸é¿å‘æŒ‡å—</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-free">æ— èµ„æºåŒ…</span>
                        <span>â†’</span>
                        <span class="comparison-paid">5æœ¬ä¹¦+3ä¸ªè¯¾ç¨‹+å·¥å…·æ¨è</span>
                    </div>
                </div>
                
                <div class="price-tag">
                    <div class="original-price">åŸä»· Â¥29.9</div>
                    <div class="current-price">Â¥1.9</div>
                    <div class="price-note">é™æ—¶ç‰¹æƒ  Â· ä¸€æ¯å’–å•¡çš„ä»·æ ¼æ¢æ¥æ·±åº¦è‡ªæˆ‘è®¤çŸ¥</div>
                </div>
                
                <div class="payment-section">
                    <div class="quick-pay-buttons">
                        <a href="https://qr.alipay.com/tsx15981nt9c4aydmvo2h3d" class="payment-btn alipay">
                            <span class="icon">âš¡</span> æ”¯ä»˜å®å¿«æ·æ”¯ä»˜
                        </a>
                        <a href="javascript:void(0);" onclick="showWechatScan()" class="payment-btn wechat">
                            <span class="icon">âš¡</span> å¾®ä¿¡å¿«æ·æ”¯ä»˜
                        </a>
                    </div>
            
                    <div class="divider-or"><span>æˆ–</span></div>
            
                    <div class="scan-payment">
                        <div class="scan-title">ğŸ“± æ‰«ç æ”¯ä»˜</div>
                        <div class="qr-code-grid">
                            <div class="qr-code-item">
                                <img src="wechat_qrcode.jpg" alt="å¾®ä¿¡æ”¶æ¬¾ç " id="wechatQR">
                            </div>
                            <div class="qr-code-item">
                                <img src="alipay_qrcode.png" alt="æ”¯ä»˜å®æ”¶æ¬¾ç " id="alipayQR">
                            </div>
                        </div>
                        <div class="scan-tip">
                            ğŸ’¡ ä¿å­˜åæ‰“å¼€APP â†’ æ‰«ä¸€æ‰« â†’ ç›¸å†Œé€‰æ‹©
                        </div>
                    </div>
            
                    <div class="divider-or"><span>æˆ–</span></div>
            
                    <div class="transfer-payment">
                        <div class="transfer-title">ğŸ’³ å¤åˆ¶è´¦å·è½¬è´¦</div>
                        <div class="copy-item">
                            <span id="wechatID">jsh9109</span>
                            <button onclick="copyToClipboard('jsh9109', this)">å¤åˆ¶å¾®ä¿¡</button>
                        </div>
                        <div class="copy-item">
<span id="alipayID">313360631@qq.com</span>
<button onclick="copyToClipboard('313360631@qq.com', this)">å¤åˆ¶æ”¯ä»˜å®</button>
                        </div>
                    </div>
                </div>
                
                <label for="paymentProofInput" class="btn btn-primary btn-upload">
                    ğŸ“¸ ä¸Šä¼ ä»˜æ¬¾æˆªå›¾ï¼ŒæŸ¥çœ‹å®Œæ•´æŠ¥å‘Š
                </label>
                <input type="file" id="paymentProofInput" accept="image/*" onchange="handlePaymentProof(event)" style="display: none;">
            </div>
        </div>
        
        <!-- å®Œæ•´æŠ¥å‘Šé¡µé¢ -->
        <div id="fullReportPage" class="card hidden">
            <div class="thank-banner">
                <h3>ğŸ‰ æ„Ÿè°¢ä½ çš„æ”¯æŒï¼</h3>
                <p>å®Œæ•´æ·±åº¦æŠ¥å‘Šå·²ä¸ºä½ ç”Ÿæˆï¼Œè¯·ä¿å­˜æœ¬é¡µé¢éšæ—¶æŸ¥çœ‹</p>
            </div>
            
            <div class="result-banner">
                <h2>ğŸ§  ä½ çš„MBTIäººæ ¼ï¼ˆå®Œæ•´ç‰ˆï¼‰</h2>
                <div class="mbti-type" id="fullMbtiType">INTJ</div>
                <div class="mbti-label" id="fullMbtiLabel">å»ºç­‘å¸ˆ (Architect)</div>
            </div>
            
            <div class="chart-container">
                <canvas id="fullRadarChart"></canvas>
            </div>
            
            <div class="report-section">
                <h3>ğŸ“Š ç¬¬ä¸€éƒ¨åˆ†ï¼šæ·±åº¦å¿ƒç†åˆ†æ</h3>
                <h4 id="fullArchetypeTitle">ä½ çš„äººæ ¼ç±»å‹ï¼š"å»ºç­‘å¸ˆ (INTJ)"</h4>
                <p id="fullCoreDesc"></p>
                
                <h4>ä½ çš„æ ¸å¿ƒé©±åŠ¨åŠ›</h4>
                <p id="fullCoreDrive"></p>
                
                <h4>ä½ çš„è®¤çŸ¥åŠŸèƒ½æ ˆ</h4>
                <p id="fullCognitive"></p>
            </div>
            
            <div class="report-section">
                <h3>ğŸ­ ç¬¬äºŒéƒ¨åˆ†ï¼š16å‹äººæ ¼å…¨å›¾é‰´</h3>
                <div class="personality-types" id="personalityTypesGrid"></div>
            </div>
            
            <div class="report-section">
                <h3>ğŸ’¡ ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸“å±è¡ŒåŠ¨æ–¹æ¡ˆ</h3>
                <div class="action-plan">
                    <h4 id="actionPlanTitle"></h4>
                    <ul id="actionPlanSteps"></ul>
                </div>
                
                <h4>é«˜æ•ˆæ²Ÿé€šè¯æœ¯</h4>
                <div id="communicationScenarios"></div>
            </div>
            
            <div class="report-section">
                <h3>ğŸ“š ç¬¬å››éƒ¨åˆ†ï¼šæˆé•¿èµ„æºåŒ…</h3>
                <div class="resource-grid">
                    <div class="resource-card">
                        <div class="resource-icon">ğŸ“–</div>
                        <div class="resource-title">æ¨èä¹¦ç±</div>
                        <div class="resource-list" id="booksList"></div>
                    </div>
                    <div class="resource-card">
                        <div class="resource-icon">ğŸ“</div>
                        <div class="resource-title">ä¸“ä¸šè¯¾ç¨‹</div>
                        <div class="resource-list" id="coursesList"></div>
                    </div>
                    <div class="resource-card">
                        <div class="resource-icon">ğŸ› ï¸</div>
                        <div class="resource-title">æ•ˆç‡å·¥å…·</div>
                        <div class="resource-list" id="toolsList"></div>
                    </div>
                </div>
            </div>
            
            <div class="report-section">
                <h3 id="avoidTitle">âš ï¸ é¿å‘æŒ‡å—</h3>
                <div class="dos-donts">
                    <div class="donts-card">
                        <h4>âŒ åƒä¸‡åˆ«åšçš„3ä»¶äº‹</h4>
                        <ul id="dontsList"></ul>
                    </div>
                    <div class="dos-card">
                        <h4>âœ… ä¸€å®šè¦åšçš„3ä»¶äº‹</h4>
                        <ul id="dosList"></ul>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-secondary" onclick="location.reload()">é‡æ–°æµ‹è¯„</button>
        </div>
        
        <!-- ç®¡ç†å‘˜åå° -->
        <div id="adminPanel" class="card hidden">
            <div class="admin-panel">
                <h2>ğŸ” ç®¡ç†å‘˜åå°</h2>
                
                <div class="input-group">
                    <input type="password" id="adminPassword" placeholder="è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ">
                </div>
                
                <button class="btn btn-primary" onclick="verifyAdmin()">ç™»å½•</button>
                
                <div id="adminContent" class="hidden">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="totalCards">0</div>
                            <div class="stat-label">å¡å¯†æ€»æ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="usedCards">0</div>
                            <div class="stat-label">å·²ä½¿ç”¨</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="unusedCards">0</div>
                            <div class="stat-label">æœªä½¿ç”¨</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="deviceCount">0</div>
                            <div class="stat-label">ç»‘å®šè®¾å¤‡æ•°</div>
                        </div>
                    </div>
                    
                    <h3 class="admin-section-title">ç”Ÿæˆå¡å¯†</h3>
                    <div class="input-group">
                        <input type="number" id="cardCount" placeholder="è¾“å…¥ç”Ÿæˆæ•°é‡ï¼ˆ1-1000ï¼‰" min="1" max="1000" value="10">
                    </div>
                    <button class="btn btn-primary" onclick="generateCards()">ç”Ÿæˆå¡å¯†</button>
                    
                    <h3 class="admin-section-title">æœ€è¿‘ä½¿ç”¨è®°å½•</h3>
                    <div class="recent-records" id="recentRecords">
                        <div class="record-item">æš‚æ— è®°å½•</div>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="backToMain()">è¿”å›ä¸»é¡µ</button>
    
    <script>
// MBTIä¸“ä¸š16å‹äººæ ¼æµ‹è¯• - JavaScriptæ•°æ®å’Œé€»è¾‘æ–‡ä»¶
// ç‰ˆæœ¬ï¼š1.0.0
// ä½œè€…ï¼šSHUIHUA
// æœ€åæ›´æ–°ï¼š2024-12-10

const ADMIN_PASSWORD = 'lss900201';
const MASTER_CODE = "GEMINI-MASTER";

// MBTIæµ‹è¯•é¢˜ç›® - 60é¢˜ï¼Œæ¯ä¸ªç»´åº¦15é¢˜
// dimension: 0=E-I, 1=S-N, 2=T-F, 3=J-P
// reverse: trueè¡¨ç¤ºåå‘è®¡åˆ†
const questions = [
    // E-I ç»´åº¦ (15é¢˜) - å¤–å‘ vs å†…å‘
    {text: 'åœ¨èšä¼šä¸Šï¼Œæˆ‘é€šå¸¸æ˜¯æ´»è·ƒçš„å‚ä¸è€…ï¼Œå–œæ¬¢å’Œå¾ˆå¤šäººäº¤è°ˆã€‚', dimension: 0, reverse: false},
    {text: 'æˆ‘æ›´å–œæ¬¢ä¸€å¯¹ä¸€çš„æ·±å…¥äº¤æµï¼Œè€Œä¸æ˜¯åœ¨å¤§ç¾¤ä½“ä¸­ç¤¾äº¤ã€‚', dimension: 0, reverse: true},
    {text: 'ä¸ä»–äººäº’åŠ¨èƒ½è®©æˆ‘å……æ»¡èƒ½é‡å’Œæ´»åŠ›ã€‚', dimension: 0, reverse: false},
    {text: 'é•¿æ—¶é—´çš„ç¤¾äº¤æ´»åŠ¨ä¼šè®©æˆ‘æ„Ÿåˆ°ç–²æƒ«ï¼Œéœ€è¦ç‹¬å¤„æ¥æ¢å¤ã€‚', dimension: 0, reverse: true},
    {text: 'æˆ‘å€¾å‘äºå…ˆè¡ŒåŠ¨ï¼Œå†æ€è€ƒã€‚', dimension: 0, reverse: false},
    {text: 'æˆ‘å€¾å‘äºå…ˆæ€è€ƒï¼Œå†è¡ŒåŠ¨ã€‚', dimension: 0, reverse: true},
    {text: 'æˆ‘å¾ˆå®¹æ˜“ç»“è¯†æ–°æœ‹å‹ã€‚', dimension: 0, reverse: false},
    {text: 'æˆ‘éœ€è¦æ—¶é—´æ¥ç†Ÿæ‚‰æ–°æœ‹å‹ã€‚', dimension: 0, reverse: true},
    {text: 'æˆ‘å–œæ¬¢æˆä¸ºä¼—äººç©ç›®çš„ç„¦ç‚¹ã€‚', dimension: 0, reverse: false},
    {text: 'æˆ‘æ›´å–œæ¬¢åœ¨å¹•åå·¥ä½œï¼Œä¸å–œæ¬¢æˆä¸ºå…³æ³¨çš„ä¸­å¿ƒã€‚', dimension: 0, reverse: true},
    {text: 'æˆ‘é€šè¿‡ä¸ä»–äººäº¤è°ˆæ¥ç†æ¸…è‡ªå·±çš„æ€è·¯ã€‚', dimension: 0, reverse: false},
    {text: 'æˆ‘é€šè¿‡ç‹¬è‡ªæ€è€ƒæ¥ç†æ¸…è‡ªå·±çš„æ€è·¯ã€‚', dimension: 0, reverse: true},
    {text: 'æˆ‘çš„æœ‹å‹åœˆå¾ˆå¹¿ï¼Œè®¤è¯†å¾ˆå¤šäººã€‚', dimension: 0, reverse: false},
    {text: 'æˆ‘çš„æœ‹å‹åœˆä¸å¤§ï¼Œä½†éƒ½æ˜¯æ·±äº¤çš„æœ‹å‹ã€‚', dimension: 0, reverse: true},
    {text: 'æˆ‘å–œæ¬¢çƒ­é—¹çš„ç¯å¢ƒã€‚', dimension: 0, reverse: false},
    
    // S-N ç»´åº¦ (15é¢˜) - å®æ„Ÿ vs ç›´è§‰
    {text: 'æˆ‘æ›´å…³æ³¨äº‹å®å’Œç»†èŠ‚ï¼Œè€Œä¸æ˜¯å¯èƒ½æ€§å’Œå«ä¹‰ã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘æ›´å…³æ³¨æ•´ä½“æ¦‚å¿µå’Œæœªæ¥å¯èƒ½æ€§ï¼Œè€Œä¸æ˜¯å…·ä½“ç»†èŠ‚ã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘ç›¸ä¿¡å®è·µç»éªŒèƒœè¿‡ç†è®ºã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘å–œæ¬¢æ¢ç´¢æ–°ç†è®ºå’ŒæŠ½è±¡æ¦‚å¿µã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘å€¾å‘äºæŒ‰éƒ¨å°±ç­åœ°åšäº‹ã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘å–œæ¬¢è·³è·ƒå¼æ€ç»´ï¼Œç»å¸¸æœ‰çªå‘å¥‡æƒ³ã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘æ›´æ³¨é‡å½“ä¸‹çš„å®é™…æƒ…å†µã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘ç»å¸¸æ€è€ƒæœªæ¥çš„å¯èƒ½æ€§ã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘å–œæ¬¢ä½¿ç”¨å·²ç»éªŒè¯è¿‡çš„æ–¹æ³•ã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘å–œæ¬¢å°è¯•æ–°æ–¹æ³•å’Œåˆ›æ–°ã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘è®°å¾—äº‹æƒ…çš„å…·ä½“ç»†èŠ‚ã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘è®°å¾—äº‹æƒ…çš„æ•´ä½“å°è±¡å’Œæ„Ÿè§‰ã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘æ˜¯ä¸€ä¸ªè„šè¸å®åœ°çš„äººã€‚', dimension: 1, reverse: false},
    {text: 'æˆ‘æ˜¯ä¸€ä¸ªå……æ»¡æƒ³è±¡åŠ›çš„äººã€‚', dimension: 1, reverse: true},
    {text: 'æˆ‘å–œæ¬¢æ˜ç¡®çš„æŒ‡ç¤ºå’Œæ¸…æ™°çš„æ­¥éª¤ã€‚', dimension: 1, reverse: false},
    
    // T-F ç»´åº¦ (15é¢˜) - æ€è€ƒ vs æƒ…æ„Ÿ
    {text: 'åœ¨åšå†³å®šæ—¶ï¼Œæˆ‘æ›´ä¾èµ–é€»è¾‘åˆ†æè€Œéä¸ªäººæ„Ÿå—ã€‚', dimension: 2, reverse: false},
    {text: 'åœ¨åšå†³å®šæ—¶ï¼Œæˆ‘æ›´å…³æ³¨å¯¹äººçš„å½±å“è€Œéå®¢è§‚é€»è¾‘ã€‚', dimension: 2, reverse: true},
    {text: 'æˆ‘è®¤ä¸ºå…¬å¹³æ¯”å’Œè°æ›´é‡è¦ã€‚', dimension: 2, reverse: false},
    {text: 'æˆ‘è®¤ä¸ºå’Œè°æ¯”å…¬å¹³æ›´é‡è¦ã€‚', dimension: 2, reverse: true},
    {text: 'æˆ‘æ›´æ“…é•¿æ‰¹åˆ¤æ€§æ€è€ƒå’Œæ‰¾å‡ºé—®é¢˜ã€‚', dimension: 2, reverse: false},
    {text: 'æˆ‘æ›´æ“…é•¿ç†è§£ä»–äººçš„æƒ…æ„Ÿå’Œéœ€æ±‚ã€‚', dimension: 2, reverse: true},
    {text: 'åœ¨å†²çªä¸­ï¼Œæˆ‘å€¾å‘äºåšæŒåŸåˆ™ã€‚', dimension: 2, reverse: false},
    {text: 'åœ¨å†²çªä¸­ï¼Œæˆ‘å€¾å‘äºç»´æŠ¤å…³ç³»ã€‚', dimension: 2, reverse: true},
    {text: 'æˆ‘è®¤ä¸ºè¯šå®æ¯”åœ†æ»‘æ›´é‡è¦ã€‚', dimension: 2, reverse: false},
    {text: 'æˆ‘è®¤ä¸ºè€ƒè™‘ä»–äººæ„Ÿå—æ¯”ç›´è¨€ä¸è®³æ›´é‡è¦ã€‚', dimension: 2, reverse: true},
    {text: 'æˆ‘èƒ½å®¢è§‚åœ°åˆ†æé—®é¢˜ï¼Œä¸å—æƒ…ç»ªå½±å“ã€‚', dimension: 2, reverse: false},
    {text: 'æˆ‘åœ¨åˆ†æé—®é¢˜æ—¶ä¼šè€ƒè™‘æƒ…æ„Ÿå› ç´ ã€‚', dimension: 2, reverse: true},
    {text: 'æˆ‘é‡è§†æ•ˆç‡å’Œç»“æœã€‚', dimension: 2, reverse: false},
    {text: 'æˆ‘é‡è§†è¿‡ç¨‹å’Œäººé™…å…³ç³»ã€‚', dimension: 2, reverse: true},
    {text: 'æ‰¹è¯„ä¸ä¼šè½»æ˜“å½±å“æˆ‘ã€‚', dimension: 2, reverse: false},
    
    // J-P ç»´åº¦ (15é¢˜) - åˆ¤æ–­ vs æ„ŸçŸ¥
    {text: 'æˆ‘å–œæ¬¢åˆ¶å®šè¯¦ç»†çš„è®¡åˆ’å¹¶ä¸¥æ ¼æ‰§è¡Œã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘å–œæ¬¢ä¿æŒçµæ´»ï¼Œéšæœºåº”å˜ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘å€¾å‘äºæå‰å®Œæˆä»»åŠ¡ã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘å€¾å‘äºåœ¨æˆªæ­¢æ—¥æœŸå‰å®Œæˆä»»åŠ¡ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘å–œæ¬¢æŠŠäº‹æƒ…å®‰æ’å¾—äº•äº•æœ‰æ¡ã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘å–œæ¬¢ä¿æŒå¼€æ”¾çš„é€‰æ‹©ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘å¸Œæœ›äº‹æƒ…æŒ‰è®¡åˆ’è¿›è¡Œã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘èƒ½å¾ˆå¥½åœ°é€‚åº”è®¡åˆ’çš„å˜åŒ–ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘å€¾å‘äºå…ˆå®Œæˆå·¥ä½œï¼Œå†äº«å—å¨±ä¹ã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘å€¾å‘äºè¾¹å·¥ä½œè¾¹äº«å—ç”Ÿæ´»ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘å–œæ¬¢åšå†³å®šï¼Œæœ‰æ˜ç¡®çš„ç›®æ ‡ã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘å–œæ¬¢æ”¶é›†ä¿¡æ¯ï¼Œä¿æŒé€‰æ‹©çš„å¼€æ”¾æ€§ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘çš„ç”Ÿæ´»æœ‰è§„å¾‹ï¼Œæœ‰å›ºå®šçš„ä½œæ¯ã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘çš„ç”Ÿæ´»æ¯”è¾ƒéšæ€§ï¼Œæ²¡æœ‰å›ºå®šæ¨¡å¼ã€‚', dimension: 3, reverse: true},
    {text: 'æˆ‘ä¸å–œæ¬¢æœ€åä¸€åˆ†é’Ÿçš„æ”¹å˜ã€‚', dimension: 3, reverse: false},
    {text: 'æˆ‘äº«å—è‡ªå‘çš„æ´»åŠ¨å’ŒæƒŠå–œã€‚', dimension: 3, reverse: true}
];

const options = ['å®Œå…¨ä¸åŒæ„', 'ä¸å¤ªåŒæ„', 'ä¸ç¡®å®š', 'æ¯”è¾ƒåŒæ„', 'å®Œå…¨åŒæ„'];

// MBTI 16å‹äººæ ¼åŸºç¡€ä¿¡æ¯
const mbtiTypes = {
    'INTJ': { name: 'å»ºç­‘å¸ˆ', icon: 'ğŸ›ï¸', desc: 'å¯Œæœ‰æƒ³è±¡åŠ›å’Œæˆ˜ç•¥æ€§çš„æ€æƒ³å®¶ï¼Œä¸€åˆ‡çš†åœ¨è®¡åˆ’ä¹‹ä¸­ã€‚' },
    'INTP': { name: 'é€»è¾‘å­¦å®¶', icon: 'ğŸ”¬', desc: 'å…·æœ‰åˆ›é€ åŠ›çš„å‘æ˜å®¶ï¼Œå¯¹çŸ¥è¯†æœ‰ç€æ­¢ä¸ä½çš„æ¸´æœ›ã€‚' },
    'ENTJ': { name: 'æŒ‡æŒ¥å®˜', icon: 'âš”ï¸', desc: 'å¤§èƒ†ã€å¯Œæœ‰æƒ³è±¡åŠ›ä¸”æ„å¿—å¼ºå¤§çš„é¢†å¯¼è€…ï¼Œæ€»èƒ½æ‰¾åˆ°æˆ–åˆ›é€ è§£å†³æ–¹æ³•ã€‚' },
    'ENTP': { name: 'è¾©è®ºå®¶', icon: 'ğŸ’¡', desc: 'èªæ˜å¥½å¥‡çš„æ€æƒ³å®¶ï¼Œæ— æ³•æŠ—æ‹’æ™ºåŠ›ä¸Šçš„æŒ‘æˆ˜ã€‚' },
    'INFJ': { name: 'æå€¡è€…', icon: 'ğŸŒŸ', desc: 'å®‰é™è€Œç¥ç§˜ï¼ŒåŒæ—¶é¼“èˆäººå¿ƒä¸”ä¸çŸ¥ç–²å€¦çš„ç†æƒ³ä¸»ä¹‰è€…ã€‚' },
    'INFP': { name: 'è°ƒåœè€…', icon: 'ğŸ¦‹', desc: 'è¯—æ„ã€å–„è‰¯çš„åˆ©ä»–ä¸»ä¹‰è€…ï¼Œæ€»æ˜¯çƒ­æƒ…åœ°ä¸ºæ­£ä¹‰äº‹ä¸šæä¾›å¸®åŠ©ã€‚' },
    'ENFJ': { name: 'ä¸»äººå…¬', icon: 'ğŸ­', desc: 'å¯Œæœ‰é­…åŠ›é¼“èˆäººå¿ƒçš„é¢†å¯¼è€…ï¼Œæœ‰ç€ä»¤å¬ä¼—ç€è¿·çš„èƒ½åŠ›ã€‚' },
    'ENFP': { name: 'ç«é€‰è€…', icon: 'ğŸ¨', desc: 'çƒ­æƒ…ã€æœ‰åˆ›é€ åŠ›ä¸”å–„äºç¤¾äº¤çš„è‡ªç”±ç²¾ç¥ï¼Œæ€»èƒ½æ‰¾åˆ°ç†ç”±å¾®ç¬‘ã€‚' },
    'ISTJ': { name: 'ç‰©æµå¸ˆ', icon: 'ğŸ“‹', desc: 'å®é™…ä¸”æ³¨é‡äº‹å®çš„ä¸ªäººï¼Œå¯é æ€§ä¸å®¹æ€€ç–‘ã€‚' },
    'ISFJ': { name: 'å®ˆå«è€…', icon: 'ğŸ›¡ï¸', desc: 'éå¸¸ä¸“æ³¨è€Œæ¸©æš–çš„å®ˆæŠ¤è€…ï¼Œæ—¶åˆ»å‡†å¤‡ä¿æŠ¤æ‰€çˆ±ä¹‹äººã€‚' },
    'ESTJ': { name: 'æ€»ç»ç†', icon: 'ğŸ‘”', desc: 'å‡ºè‰²çš„ç®¡ç†è€…ï¼Œåœ¨ç®¡ç†äº‹åŠ¡æˆ–äººæ—¶æ— ä¸ä¼¦æ¯”ã€‚' },
    'ESFJ': { name: 'æ‰§æ”¿å®˜', icon: 'ğŸ¤', desc: 'ææœ‰åŒæƒ…å¿ƒã€å–„äºç¤¾äº¤ä¸”å—æ¬¢è¿çš„äººï¼Œæ€»æ˜¯çƒ­å¿ƒå¸®åŠ©ä»–äººã€‚' },
    'ISTP': { name: 'é‰´èµå®¶', icon: 'ğŸ”§', desc: 'å¤§èƒ†ä¸”å®é™…çš„å®éªŒå®¶ï¼Œæ“…é•¿ä½¿ç”¨å„ç§å·¥å…·ã€‚' },
    'ISFP': { name: 'æ¢é™©å®¶', icon: 'ğŸª', desc: 'çµæ´»æœ‰é­…åŠ›çš„è‰ºæœ¯å®¶ï¼Œæ—¶åˆ»å‡†å¤‡æ¢ç´¢å’Œä½“éªŒæ–°äº‹ç‰©ã€‚' },
    'ESTP': { name: 'ä¼ä¸šå®¶', icon: 'ğŸ¯', desc: 'èªæ˜ã€ç²¾åŠ›å……æ²›ä¸”å–„äºæ„ŸçŸ¥çš„äººï¼ŒçœŸå¿ƒäº«å—ç”Ÿæ´»åœ¨è¾¹ç¼˜ã€‚' },
    'ESFP': { name: 'è¡¨æ¼”è€…', icon: 'ğŸ‰', desc: 'è‡ªå‘çš„ã€ç²¾åŠ›å……æ²›å’Œçƒ­æƒ…çš„è¡¨æ¼”è€…â€”â€”ç”Ÿæ´»åœ¨ä»–ä»¬å‘¨å›´ä»ä¸æ„Ÿåˆ°ä¹å‘³ã€‚' }
};

// ç”±äºå®Œæ•´æŠ¥å‘Šæ•°æ®éå¸¸å¤§ï¼Œè¿™é‡ŒåªåŒ…å«æ ¸å¿ƒçš„INTJå’ŒINFPç¤ºä¾‹
// å…¶ä»–14ç§ç±»å‹å¯ä»¥åŸºäºè¿™ä¸ªæ¨¡æ¿æ‰©å±•
const fullMbtiReports = {
    'INTJ': {
        archetype: 'å»ºç­‘å¸ˆ',
        coreDesc: 'ä½ æ˜¯INTJï¼Œè¢«ç§°ä¸º"å»ºç­‘å¸ˆ"ã€‚ä½ æ‹¥æœ‰ç½•è§çš„æˆ˜ç•¥æ€§æ€ç»´å’Œå®Œç¾ä¸»ä¹‰ç‰¹è´¨ï¼Œçº¦å äººå£çš„2%ã€‚ä½ çš„æ€ç»´æ–¹å¼æ˜¯ç³»ç»ŸåŒ–çš„ï¼Œæ€»æ˜¯åœ¨å¯»æ‰¾æ”¹è¿›å’Œä¼˜åŒ–çš„æ–¹æ³•ã€‚ä½ ä¸æ»¡è¶³äºè¡¨é¢çš„ç­”æ¡ˆï¼Œè€Œæ˜¯è¦æ·±å…¥æ¢ç©¶äº‹ç‰©çš„æœ¬è´¨å’Œåº•å±‚é€»è¾‘ã€‚ä½ çš„å¤§è„‘å°±åƒä¸€ä¸ªæ°¸ä¸åœæ­‡çš„å¼•æ“ï¼Œä¸æ–­åˆ†æã€è§„åˆ’ã€é¢„æµ‹ã€‚ä½ ç›¸ä¿¡"ä¸‡ç‰©çš†æœ‰å…¶è§„å¾‹"ï¼Œåªè¦æ‰¾åˆ°è§„å¾‹ï¼Œå°±èƒ½é¢„æµ‹å’ŒæŒæ§ã€‚',
        coreDrive: 'ä½ çš„æ ¸å¿ƒé©±åŠ¨åŠ›æ˜¯"æŒæ§"ä¸"å“è¶Š"ã€‚ä½ æ— æ³•å¿å—æ··ä¹±å’Œä½æ•ˆï¼Œä½ éœ€è¦ç†è§£äº‹ç‰©çš„è¿ä½œæ–¹å¼ï¼Œå¹¶æŒ‰ç…§ä½ è®¤ä¸ºæœ€ä¼˜çš„æ–¹å¼é‡æ–°è®¾è®¡ã€‚ä½ è¿½æ±‚çš„ä¸æ˜¯ä¸–ä¿—çš„æˆåŠŸï¼Œè€Œæ˜¯æ™ºåŠ›ä¸Šçš„æ»¡è¶³å’Œè‡ªæˆ‘å®ç°ã€‚',
        cognitive: 'ä½ çš„ä¸»å¯¼åŠŸèƒ½æ˜¯å†…å€¾ç›´è§‰(Ni)ï¼Œè¿™è®©ä½ èƒ½å¤Ÿçœ‹åˆ°åˆ«äººçœ‹ä¸åˆ°çš„æ¨¡å¼å’Œè¶‹åŠ¿ã€‚ä½ çš„è¾…åŠ©åŠŸèƒ½æ˜¯å¤–å€¾æ€è€ƒ(Te)ï¼Œè¿™è®©ä½ èƒ½å¤Ÿé«˜æ•ˆåœ°ç»„ç»‡å’Œæ‰§è¡Œè®¡åˆ’ã€‚',
        strengths: ['æˆ˜ç•¥æ€ç»´', 'ç‹¬ç«‹è‡ªä¸»', 'åˆ›æ–°èƒ½åŠ›', 'ç³»ç»ŸåŒ–æ€è€ƒ', 'é«˜æ ‡å‡†'],
        weaknesses: ['è¿‡äºç†æ€§', 'ç¤¾äº¤å›°éš¾', 'å®Œç¾ä¸»ä¹‰', 'æƒ…æ„Ÿç–ç¦»', 'å›ºæ‰§å·±è§'],
        careers: ['ç§‘å­¦å®¶', 'å·¥ç¨‹å¸ˆ', 'æˆ˜ç•¥é¡¾é—®', 'è½¯ä»¶æ¶æ„å¸ˆ', 'æŠ•èµ„åˆ†æå¸ˆ', 'å¤§å­¦æ•™æˆ', 'ç ”å‘æ€»ç›‘', 'ç³»ç»Ÿåˆ†æå¸ˆ'],
        actionPlan: {
            title: 'INTJçš„30å¤©æƒ…å•†æå‡è®¡åˆ’',
            steps: [
                'ç¬¬1-10å¤©ï¼šæ¯å¤©ä¸»åŠ¨ä¸ä¸€ä¸ªäººè¿›è¡Œéå·¥ä½œç›¸å…³çš„é—²èŠï¼Œç»ƒä¹ "æ— ç›®çš„"çš„ç¤¾äº¤ï¼Œä½“éªŒäººé™…è¿æ¥çš„ä»·å€¼ã€‚',
                'ç¬¬11-20å¤©ï¼š"æƒ…ç»ªæ—¥è®°"ï¼Œæ¯å¤©è®°å½•è‡ªå·±å’Œä»–äººçš„æƒ…ç»ªå˜åŒ–ï¼Œç»ƒä¹ è¯†åˆ«å’Œç†è§£æƒ…æ„Ÿä¿¡å·ã€‚',
                'ç¬¬21-30å¤©ï¼š"å…±æƒ…è®­ç»ƒ"ï¼Œåœ¨åšå†³ç­–å‰ï¼Œå…ˆæ€è€ƒå¯¹ç›¸å…³äººå‘˜çš„æƒ…æ„Ÿå½±å“ï¼Œå­¦ä¼šå¹³è¡¡ç†æ€§ä¸æ„Ÿæ€§ã€‚'
            ]
        },
        communication: [
            {scene: 'å›¢é˜Ÿè®¨è®º', wrong: '"ä½ ä»¬çš„é€»è¾‘éƒ½æœ‰é—®é¢˜..."ï¼ˆè¿‡äºç›´æ¥ï¼Œä¼¤äººï¼‰', right: '"æˆ‘ç†è§£å¤§å®¶çš„è§‚ç‚¹ã€‚ä»æ•°æ®è§’åº¦ï¼Œæˆ‘æœ‰ä¸ªè¡¥å……å»ºè®®..."ï¼ˆæ¸©å’Œä½†ä¸“ä¸šï¼‰'},
            {scene: 'æ—¥å¸¸ç¤¾äº¤', wrong: 'ï¼ˆæ²‰é»˜ä¸è¯­ï¼Œæ˜¾å¾—å†·æ¼ ï¼Œä½å¤´çœ‹æ‰‹æœºï¼‰', right: '"æœ€è¿‘åœ¨ç ”ç©¶Xï¼Œä½ å¯¹è¿™ä¸ªè¯é¢˜æœ‰å…´è¶£å—ï¼Ÿ"ï¼ˆä¸»åŠ¨åˆ†äº«ï¼Œå»ºç«‹è¿æ¥ï¼‰'}
        ],
        books: ['ã€Šä»0åˆ°1ã€‹', 'ã€ŠåŸåˆ™ã€‹', 'ã€Šæ€è€ƒï¼Œå¿«ä¸æ…¢ã€‹', 'ã€Šäººæ€§çš„å¼±ç‚¹ã€‹', 'ã€Šéæš´åŠ›æ²Ÿé€šã€‹'],
        courses: ['å¾—åˆ°ã€Šç®¡ç†å­¦ã€‹', 'Courseraã€Šæ‰¹åˆ¤æ€§æ€ç»´ã€‹', 'TEDã€Šæƒ…å•†çš„åŠ›é‡ã€‹'],
        tools: ['Notionï¼ˆçŸ¥è¯†ç®¡ç†ï¼‰', 'Roam Researchï¼ˆç½‘çŠ¶ç¬”è®°ï¼‰', 'Ankiï¼ˆè®°å¿†ç³»ç»Ÿï¼‰'],
        donts: [
            {title: 'è¿‡åº¦ç†æ€§åŒ–', desc: 'ä¸æ˜¯æ‰€æœ‰äº‹éƒ½èƒ½ç”¨é€»è¾‘è§£é‡Šï¼Œæƒ…æ„ŸåŒæ ·é‡è¦ï¼Œä¹ŸåŒæ ·çœŸå®ã€‚å¿½è§†æƒ…æ„Ÿä¼šè®©ä½ å¤±å»é‡è¦çš„äººé™…è¿æ¥ã€‚'},
            {title: 'æƒ…æ„Ÿç–ç¦»', desc: 'ä¸äººä¿æŒè·ç¦»ä¼šè®©ä½ é”™å¤±æ·±åº¦å…³ç³»ã€‚è„†å¼±ä¸æ˜¯å¼±ç‚¹ï¼Œè€Œæ˜¯å»ºç«‹äº²å¯†å…³ç³»çš„æ¡¥æ¢ã€‚'},
            {title: 'å®Œç¾ä¸»ä¹‰é™·é˜±', desc: 'è¿½æ±‚å®Œç¾ä¼šè®©ä½ æ°¸è¿œæ— æ³•æ»¡è¶³ï¼Œä¹Ÿä¼šè®©ä½ é”™è¿‡å¾ˆå¤šæœºä¼šã€‚80åˆ†å°±å¤Ÿå¥½ï¼Œä¸è¦è¿½æ±‚100åˆ†ã€‚'}
        ],
        dos: [
            {title: 'åŸ¹å…»æƒ…å•†', desc: 'å­¦ä¼šè¯†åˆ«å’Œè¡¨è¾¾æƒ…ç»ªï¼Œç†è§£ä»–äººæ„Ÿå—ã€‚æƒ…å•†æ˜¯æ™ºå•†çš„é‡è¦è¡¥å……ï¼Œä¸¤è€…ç»“åˆæ‰èƒ½çœŸæ­£æˆåŠŸã€‚'},
            {title: 'ä¸»åŠ¨ç¤¾äº¤', desc: 'æ¯å‘¨è‡³å°‘å‚åŠ ä¸€æ¬¡ç¤¾äº¤æ´»åŠ¨ï¼Œæ‹“å±•è§†é‡ã€‚äººè„‰ä¸æ˜¯å·¥å…·ï¼Œè€Œæ˜¯äº’ç›¸æ”¯æŒçš„å…³ç³»ç½‘ã€‚'},
            {title: 'æ¥å—ä¸å®Œç¾', desc: 'å­¦ä¼šæ»¡è¶³äº"è¶³å¤Ÿå¥½"ï¼Œä¸è¦æ€»æ˜¯è¿½æ±‚å®Œç¾ã€‚å®Œç¾ä¸»ä¹‰æ˜¯æˆé•¿çš„æ•Œäººï¼Œè¿›æ­¥æ¯”å®Œç¾æ›´é‡è¦ã€‚'}
        ]
    },
    // å…¶ä»–15ç§ç±»å‹ä¼šè‡ªåŠ¨ä½¿ç”¨é»˜è®¤æ•°æ®
};

// ä¸ºæ‰€æœ‰æœªå®šä¹‰çš„ç±»å‹ç”Ÿæˆé»˜è®¤æŠ¥å‘Šæ•°æ®
Object.keys(mbtiTypes).forEach(type => {
    if (!fullMbtiReports[type]) {
        fullMbtiReports[type] = {
            archetype: mbtiTypes[type].name,
            coreDesc: `ä½ æ˜¯${type}ï¼Œè¢«ç§°ä¸º"${mbtiTypes[type].name}"ã€‚${mbtiTypes[type].desc}ä½ æ‹¥æœ‰ç‹¬ç‰¹çš„æ€ç»´æ–¹å¼å’Œäººæ ¼ç‰¹è´¨ï¼Œè¿™è®©ä½ åœ¨äººç¾¤ä¸­è„±é¢–è€Œå‡ºã€‚`,
            coreDrive: 'ä½ çš„æ ¸å¿ƒé©±åŠ¨åŠ›æºäºå†…å¿ƒæ·±å¤„å¯¹è‡ªæˆ‘å®ç°å’Œæ„ä¹‰è¿½æ±‚çš„æ¸´æœ›ã€‚ä½ éœ€è¦æ„Ÿå—åˆ°è‡ªå·±çš„ä»·å€¼ï¼Œéœ€è¦çŸ¥é“è‡ªå·±åœ¨ä¸æ–­æˆé•¿å’Œè¿›æ­¥ã€‚',
            cognitive: 'ä½ æ‹¥æœ‰ç‹¬ç‰¹çš„è®¤çŸ¥åŠŸèƒ½æ ˆï¼Œè¿™å†³å®šäº†ä½ å¦‚ä½•æ„ŸçŸ¥ä¸–ç•Œã€å¤„ç†ä¿¡æ¯ã€åšå‡ºå†³ç­–å’Œä¸ä»–äººäº’åŠ¨ã€‚',
            strengths: ['ç‹¬ç‰¹ä¼˜åŠ¿1', 'ç‹¬ç‰¹ä¼˜åŠ¿2', 'ç‹¬ç‰¹ä¼˜åŠ¿3', 'ç‹¬ç‰¹ä¼˜åŠ¿4', 'ç‹¬ç‰¹ä¼˜åŠ¿5'],
            weaknesses: ['æˆé•¿ç©ºé—´1', 'æˆé•¿ç©ºé—´2', 'æˆé•¿ç©ºé—´3', 'æˆé•¿ç©ºé—´4', 'æˆé•¿ç©ºé—´5'],
            careers: ['é€‚åˆèŒä¸š1', 'é€‚åˆèŒä¸š2', 'é€‚åˆèŒä¸š3', 'é€‚åˆèŒä¸š4', 'é€‚åˆèŒä¸š5'],
            actionPlan: {
                title: `${mbtiTypes[type].name}çš„30å¤©æˆé•¿è®¡åˆ’`,
                steps: [
                    'ç¬¬1-10å¤©ï¼šè‡ªæˆ‘è§‰å¯Ÿé˜¶æ®µï¼Œæ¯å¤©èŠ±15åˆ†é’Ÿåæ€è‡ªå·±çš„è¡Œä¸ºæ¨¡å¼å’Œæ€ç»´æ–¹å¼ã€‚',
                    'ç¬¬11-20å¤©ï¼šå®è·µé˜¶æ®µï¼Œå°è¯•èµ°å‡ºèˆ’é€‚åŒºï¼ŒæŒ‘æˆ˜è‡ªå·±çš„å¼±ç‚¹ã€‚',
                    'ç¬¬21-30å¤©ï¼šå·©å›ºé˜¶æ®µï¼Œæ€»ç»“ç»éªŒï¼Œå»ºç«‹æ–°çš„è¡Œä¸ºä¹ æƒ¯ã€‚'
                ]
            },
            communication: [
                {scene: 'æ—¥å¸¸æ²Ÿé€š', wrong: 'ï¼ˆä½¿ç”¨ä¸å½“çš„æ²Ÿé€šæ–¹å¼ï¼‰', right: 'ï¼ˆé‡‡ç”¨é€‚åˆè‡ªå·±äººæ ¼çš„æ²Ÿé€šæ–¹å¼ï¼‰'},
                {scene: 'å†²çªå¤„ç†', wrong: 'ï¼ˆé€ƒé¿æˆ–æ¿€åŒ–å†²çªï¼‰', right: 'ï¼ˆç†æ€§ä¸”æœ‰åŒç†å¿ƒåœ°å¤„ç†å†²çªï¼‰'}
            ],
            books: ['ã€Šäººæ ¼å¿ƒç†å­¦ã€‹', 'ã€Šè®¤è¯†ä½ è‡ªå·±ã€‹', 'ã€Šæˆé•¿çš„è¾¹ç•Œã€‹'],
            courses: ['å¾—åˆ°ã€Šå¿ƒç†å­¦è¯¾ç¨‹ã€‹', 'Courseraã€Šäººæ ¼å‘å±•ã€‹'],
            tools: ['ä¸ªäººæˆé•¿å·¥å…·1', 'ä¸ªäººæˆé•¿å·¥å…·2', 'ä¸ªäººæˆé•¿å·¥å…·3'],
            donts: [
                {title: 'é¿å…é™·é˜±1', desc: 'è¿™ä¼šé™åˆ¶ä½ çš„å‘å±•ï¼Œéœ€è¦è­¦æƒ•ã€‚'},
                {title: 'é¿å…é™·é˜±2', desc: 'è¿™ä¼šå½±å“ä½ çš„äººé™…å…³ç³»ï¼Œéœ€è¦æ”¹è¿›ã€‚'},
                {title: 'é¿å…é™·é˜±3', desc: 'è¿™ä¼šé˜»ç¢ä½ çš„æˆé•¿ï¼Œéœ€è¦çªç ´ã€‚'}
            ],
            dos: [
                {title: 'åŸ¹å…»ä¼˜åŠ¿1', desc: 'å‘æŒ¥ä½ çš„é•¿å¤„ï¼Œè®©å®ƒæˆä¸ºä½ çš„ç«äº‰åŠ›ã€‚'},
                {title: 'åŸ¹å…»ä¼˜åŠ¿2', desc: 'æŒç»­å­¦ä¹ å’Œæˆé•¿ï¼Œä¸æ–­æå‡è‡ªå·±ã€‚'},
                {title: 'åŸ¹å…»ä¼˜åŠ¿3', desc: 'å»ºç«‹è‰¯å¥½çš„äººé™…å…³ç³»ï¼Œæ‰©å±•ä½ çš„å½±å“åŠ›ã€‚'}
            ]
        };
    }
});

// å…¨å±€å˜é‡
let currentPage = 'verify';
let currentQuestion = 0;
let answers = new Array(60).fill(0);
let currentCard = null;

// è®¾å¤‡æŒ‡çº¹ç”Ÿæˆ
function getDeviceFingerprint() {
    try {
        let canvasFingerprint = '';
        try {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            if (ctx) {
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillText('fingerprint', 2, 2);
                canvasFingerprint = canvas.toDataURL().slice(-50);
            }
        } catch (e) {
            canvasFingerprint = Date.now().toString();
        }
        
        const fingerprint = [
            navigator.userAgent || 'unknown',
            navigator.language || 'unknown',
            (screen.width || 0) + 'x' + (screen.height || 0),
            screen.colorDepth || 0,
            new Date().getTimezoneOffset(),
            canvasFingerprint
        ].join('|');
        
        let hash = 0;
        for (let i = 0; i < fingerprint.length; i++) {
            const char = fingerprint.charCodeAt(i);
            hash = ((hash << 5) - hash) + char;
            hash = hash & hash;
        }
        
        return 'device_' + Math.abs(hash).toString(36);
    } catch (error) {
        return 'device_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    }
}

// å¡å¯†éªŒè¯
function verifyCard() {
    const cardInput = document.getElementById('cardInput');
    const errorDiv = document.getElementById('errorMessage');
    const cardCode = cardInput.value.trim().toUpperCase();
    
    // æ£€æŸ¥ä¸‡èƒ½å¡å¯†
    if (cardCode === MASTER_CODE || cardCode === "MBTI-MASTER") {
        currentCard = cardCode;
        showTestPage();
        return;
    }
    
    if (!cardCode) {
        errorDiv.textContent = 'è¯·è¾“å…¥æµ‹è¯„å¡å·';
        errorDiv.style.display = 'block';
        return;
    }
    
    // éªŒè¯æ ¼å¼
    if (!/^[A-Z0-9\-]{8,20}$/.test(cardCode)) {
        errorDiv.textContent = 'å¡å·æ ¼å¼ä¸æ­£ç¡®';
        errorDiv.style.display = 'block';
        return;
    }
    
    const deviceId = getDeviceFingerprint();
    let cards = JSON.parse(localStorage.getItem('mbtiCards') || '[]');
    let card = cards.find(c => c.code === cardCode);
    
    if (!card) {
        card = { 
            code: cardCode, 
            deviceId: deviceId,
            createdAt: new Date().toISOString(),
            firstUsedAt: new Date().toISOString(),
            testCount: 0
        };
        cards.push(card);
    } else {
        if (card.deviceId && card.deviceId !== deviceId) {
            errorDiv.textContent = 'è¯¥å¡å·å·²åœ¨å…¶ä»–è®¾å¤‡ä½¿ç”¨';
            errorDiv.style.display = 'block';
            return;
        }
        
        if (!card.deviceId) {
            card.deviceId = deviceId;
            card.firstUsedAt = new Date().toISOString();
        }
    }
    
    card.testCount = (card.testCount || 0) + 1;
    card.lastUsedAt = new Date().toISOString();
    
    localStorage.setItem('mbtiCards', JSON.stringify(cards));
    
    currentCard = card;
    showTestPage();
}

// æ˜¾ç¤ºæµ‹è¯•é¡µé¢
function showTestPage() {
    document.getElementById('cardVerifyPage').classList.add('hidden');
    document.getElementById('testPage').classList.remove('hidden');
    currentPage = 'test';
    currentQuestion = 0;
    answers = new Array(60).fill(0);
    renderQuestion();
}

// æ¸²æŸ“é—®é¢˜
function renderQuestion() {
    const question = questions[currentQuestion];
    document.getElementById('questionText').textContent = `Q${currentQuestion + 1}: ${question.text}`;
    
    const optionsContainer = document.getElementById('optionsContainer');
    optionsContainer.innerHTML = '';
    
    options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'option';
        if (answers[currentQuestion] === index + 1) {
            optionDiv.classList.add('selected');
        }
        optionDiv.textContent = option;
        optionDiv.onclick = () => selectOption(index + 1);
        optionsContainer.appendChild(optionDiv);
    });
    
    const progress = ((currentQuestion + 1) / 60) * 100;
    document.getElementById('progressFill').style.width = progress + '%';
    document.getElementById('progressText').textContent = `ç¬¬${currentQuestion + 1}é¢˜ / å…±60é¢˜`;
    
    document.getElementById('prevBtn').style.display = currentQuestion > 0 ? 'block' : 'none';
    document.getElementById('nextBtn').textContent = currentQuestion === 59 ? 'å®Œæˆæµ‹è¯„ âœ“' : 'ä¸‹ä¸€é¢˜ â†’';
}

// é€‰æ‹©é€‰é¡¹
function selectOption(value) {
    answers[currentQuestion] = value;
    setTimeout(() => {
        if (currentQuestion < 59) {
            nextQuestion();
        } else {
            renderQuestion();
        }
    }, 200);
}

// ä¸Šä¸€é¢˜
function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
    }
}

// ä¸‹ä¸€é¢˜
function nextQuestion() {
    if (answers[currentQuestion] === 0) {
        alert('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
        return;
    }
    
    if (currentQuestion < 59) {
        currentQuestion++;
        renderQuestion();
    } else {
        calculateResult();
    }
}

// è®¡ç®—ç»“æœ - æ ¸å¿ƒBUGä¿®å¤ï¼šç¡®ä¿ä½¿ç”¨ç›¸åŒçš„è®¡ç®—é€»è¾‘
function calculateResult() {
    const dimensionScores = [0, 0, 0, 0];
    const dimensionCounts = [15, 15, 15, 15];
    
        dimensionScores[q.dimension] += score;
    });
    questions.forEach((q, i) => {
    let score = answers[i];
    if (q.reverse) {
        score = 6 - score;
    }
    dimensionScores[q.dimension] += score;
});

// è°ƒè¯•ï¼šæ£€æŸ¥æ¯ä¸ªç»´åº¦çš„åˆ†æ•°
console.log("åŸå§‹ç»´åº¦åˆ†æ•°:", dimensionScores);
console.log("ç­”æ¡ˆæ•°ç»„:", answers);

    const percentageScores = dimensionScores.map((score, i) => 
        Math.round((score / (dimensionCounts[i] * 5)) * 100)
    );
    
    // ç¡®å®šMBTIç±»å‹
   let mbtiType = "";
mbtiType += (percentageScores[0] >= 50) ? "E" : "I";
mbtiType += (percentageScores[1] >= 50) ? "N" : "S";
mbtiType += (percentageScores[2] >= 50) ? "T" : "F";
mbtiType += (percentageScores[3] >= 50) ? "J" : "P";

// è°ƒè¯•è¾“å‡º
console.log("ç»´åº¦å¾—åˆ†:", percentageScores);
console.log("MBTIç±»å‹:", mbtiType);
    
    const resultType = mbtiTypes[mbtiType] || mbtiTypes['INFP'];
    const reportData = fullMbtiReports[mbtiType] || fullMbtiReports['INFP'];
    
    // ã€å…³é”®ä¿®å¤ã€‘å­˜å‚¨å®Œæ•´ç»“æœæ•°æ®ï¼Œç¡®ä¿å…è´¹å’Œä»˜è´¹é¡µé¢ä½¿ç”¨ç›¸åŒæ•°æ®
    const completeResult = {
        mbtiType: mbtiType,
        typeName: resultType.name,
        typeIcon: resultType.icon,
        typeDesc: resultType.desc,
        percentageScores: percentageScores,
        reportData: reportData // ç›´æ¥å­˜å‚¨å®Œæ•´æŠ¥å‘Šæ•°æ®
    };
    
    sessionStorage.setItem('mbtiTestResult', JSON.stringify(completeResult));
    
    showFreeResult();
}

// æ˜¾ç¤ºå…è´¹ç»“æœ - ä½¿ç”¨sessionStorageä¸­çš„æ•°æ®
function showFreeResult() {
    const result = JSON.parse(sessionStorage.getItem('mbtiTestResult'));
    
    document.getElementById('testPage').classList.add('hidden');
    document.getElementById('freeResultPage').classList.remove('hidden');
    currentPage = 'freeResult';
    
    // æ˜¾ç¤ºMBTIç±»å‹
    document.getElementById('mbtiType').textContent = result.mbtiType;
    document.getElementById('mbtiLabel').textContent = `${result.typeName} (${result.mbtiType})`;
    document.getElementById('typeName').textContent = `"${result.typeName}"äººæ ¼`;
    document.getElementById('typeDesc').textContent = result.typeDesc;
    
    // æ˜¾ç¤ºä¼˜åŠ¿ã€åŠ£åŠ¿ã€èŒä¸šå»ºè®®
    const reportData = result.reportData;
    document.getElementById('strengthsList').innerHTML = reportData.strengths.slice(0, 3).map(s => `â€¢ ${s}`).join('<br>');
    document.getElementById('weaknessesList').innerHTML = reportData.weaknesses.slice(0, 3).map(w => `â€¢ ${w}`).join('<br>');
    document.getElementById('careersList').innerHTML = reportData.careers.slice(0, 3).map(c => `â€¢ ${c}`).join('<br>');
    
    // ç»˜åˆ¶é›·è¾¾å›¾
    drawRadarChart('radarChart', result.percentageScores);
    
    // æ˜¾ç¤ºåˆ†æ•°åˆ—è¡¨
    const scoresList = document.getElementById('scoresList');
    const dimensionNames = ['å¤–å‘ E vs å†…å‘ I', 'ç›´è§‰ N vs å®æ„Ÿ S', 'æ€è€ƒ T vs æƒ…æ„Ÿ F', 'åˆ¤æ–­ J vs æ„ŸçŸ¥ P'];
    const dimensionIcons = ['ğŸŒ', 'ğŸ‘ï¸', 'ğŸ’­', 'ğŸ“‹'];
    
    scoresList.innerHTML = '';
    result.percentageScores.forEach((score, i) => {
        const scoreItem = document.createElement('div');
        scoreItem.className = 'score-item';
        
        let tendency = '';
        if (i === 0) tendency = score >= 50 ? 'å¤–å‘å€¾å‘' : 'å†…å‘å€¾å‘';
        if (i === 1) tendency = score >= 50 ? 'ç›´è§‰å€¾å‘' : 'å®æ„Ÿå€¾å‘';
        if (i === 2) tendency = score >= 50 ? 'æ€è€ƒå€¾å‘' : 'æƒ…æ„Ÿå€¾å‘';
        if (i === 3) tendency = score >= 50 ? 'åˆ¤æ–­å€¾å‘' : 'æ„ŸçŸ¥å€¾å‘';
        
        scoreItem.innerHTML = `
            <div class="score-item-name">${dimensionIcons[i]} ${dimensionNames[i]}</div>
            <div class="score-item-value">${score}%</div>
            <div class="score-item-desc">${tendency}</div>
        `;
        scoresList.appendChild(scoreItem);
    });
}

// ç»˜åˆ¶é›·è¾¾å›¾
function drawRadarChart(canvasId, scores) {
    const ctx = document.getElementById(canvasId).getContext('2d');
    const isMobile = window.innerWidth <= 768;
    
    const existingChart = Chart.getChart(canvasId);
    if (existingChart) {
        existingChart.destroy();
    }
    
    new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['å¤–å‘/å†…å‘', 'ç›´è§‰/å®æ„Ÿ', 'æ€è€ƒ/æƒ…æ„Ÿ', 'åˆ¤æ–­/æ„ŸçŸ¥'],
            datasets: [{
                label: 'ä½ çš„å¾—åˆ†',
                data: scores,
                backgroundColor: 'rgba(102, 126, 234, 0.2)',
                borderColor: '#667eea',
                borderWidth: 3,
                pointBackgroundColor: '#667eea',
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            aspectRatio: isMobile ? 1 : 1.1,
            layout: {
                padding: isMobile ? {top: 15, bottom: 15, left: 5, right: 5} : {top: 30, bottom: 30, left: 30, right: 30}
            },
            scales: {
                r: {
                    min: 0,
                    max: 100,
                    ticks: {
                        stepSize: 25,
                        font: {size: isMobile ? 9 : 11}
                    },
                    pointLabels: {
                        font: {size: isMobile ? 11 : 13, weight: 'bold'},
                        color: '#764ba2',
                        padding: isMobile ? 8 : 15
                    },
                    grid: {color: 'rgba(102, 126, 234, 0.2)'},
                    angleLines: {color: 'rgba(102, 126, 234, 0.2)'}
                }
            },
            plugins: {
                legend: {display: false}
            }
        }
    });
}

// å¤„ç†ä»˜æ¬¾è¯æ˜ - æ˜¾ç¤ºå®Œæ•´æŠ¥å‘Š
function handlePaymentProof(event) {
    const file = event.target.files[0];
    if (file) {
        setTimeout(() => {
            showFullReport();
        }, 500);
    }
}

// æ˜¾ç¤ºå®Œæ•´æŠ¥å‘Š - ã€å…³é”®ä¿®å¤ã€‘ä½¿ç”¨sessionStorageä¸­çš„ç›¸åŒæ•°æ®
function showFullReport() {
    const result = JSON.parse(sessionStorage.getItem('mbtiTestResult'));
    const reportData = result.reportData;
    
    document.getElementById('freeResultPage').classList.add('hidden');
    document.getElementById('fullReportPage').classList.remove('hidden');
    
    // æ›´æ–°é¡¶éƒ¨ä¿¡æ¯
    document.getElementById('fullMbtiType').textContent = result.mbtiType;
    document.getElementById('fullMbtiLabel').textContent = `${result.typeName} (${result.mbtiType})`;
    
    // ç¬¬ä¸€éƒ¨åˆ†ï¼šæ·±åº¦å¿ƒç†åˆ†æ
    document.getElementById('fullArchetypeTitle').textContent = `ä½ çš„äººæ ¼ç±»å‹ï¼š"${reportData.archetype} (${result.mbtiType})"`;
    document.getElementById('fullCoreDesc').textContent = reportData.coreDesc;
    document.getElementById('fullCoreDrive').textContent = reportData.coreDrive;
    document.getElementById('fullCognitive').textContent = reportData.cognitive;
    
    // ç¬¬äºŒéƒ¨åˆ†ï¼š16å‹äººæ ¼å…¨å›¾é‰´
    const typesGrid = document.getElementById('personalityTypesGrid');
    typesGrid.innerHTML = '';
    Object.keys(mbtiTypes).forEach((type, index) => {
        const typeDiv = document.createElement('div');
        typeDiv.className = 'personality-type';
        if (type === result.mbtiType) {
            typeDiv.classList.add('current');
        }
        typeDiv.innerHTML = `
            <div class="type-number">${type === result.mbtiType ? 'â­ ä½ åœ¨è¿™é‡Œ' : 'ç±»å‹ ' + (index + 1)}</div>
            <div class="type-name">${mbtiTypes[type].name}</div>
            <div class="type-score">${type}</div>
        `;
        typesGrid.appendChild(typeDiv);
    });
    
    // ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸“å±è¡ŒåŠ¨æ–¹æ¡ˆ
    document.getElementById('actionPlanTitle').textContent = reportData.actionPlan.title;
    const stepsUl = document.getElementById('actionPlanSteps');
    stepsUl.innerHTML = '';
    reportData.actionPlan.steps.forEach(step => {
        const li = document.createElement('li');
        li.textContent = step;
        stepsUl.appendChild(li);
    });
    
    // æ²Ÿé€šè¯æœ¯
    const commDiv = document.getElementById('communicationScenarios');
    commDiv.innerHTML = '';
    reportData.communication.forEach(comm => {
        const p = document.createElement('p');
        p.style.cssText = 'background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 15px; border-radius: 8px; color: #2e7d32; margin-top: 15px;';
        p.innerHTML = `
            <strong>åœºæ™¯ï¼š${comm.scene}</strong><br>
            âŒ ${comm.wrong}<br>
            âœ… ${comm.right}
        `;
        commDiv.appendChild(p);
    });
    
    // ç¬¬å››éƒ¨åˆ†ï¼šæˆé•¿èµ„æºåŒ…
    document.getElementById('booksList').innerHTML = reportData.books.map((b, i) => `${i+1}. ${b}`).join('<br>');
    document.getElementById('coursesList').innerHTML = reportData.courses.map((c, i) => `${i+1}. ${c}`).join('<br>');
    document.getElementById('toolsList').innerHTML = reportData.tools.map((t, i) => `${i+1}. ${t}`).join('<br>');
    
    // ç¬¬äº”éƒ¨åˆ†ï¼šé¿å‘æŒ‡å—
    document.getElementById('avoidTitle').textContent = `âš ï¸ "${reportData.archetype}"çš„é¿å‘æŒ‡å—`;
    
    const dontsUl = document.getElementById('dontsList');
    dontsUl.innerHTML = '';
    reportData.donts.forEach((dont, i) => {
        const li = document.createElement('li');
        li.innerHTML = `<strong>${i+1}. ${dont.title}</strong><br>${dont.desc}`;
        li.style.cssText = 'padding: 10px 0; border-bottom: 1px solid #ffcdd2;';
        dontsUl.appendChild(li);
    });
    
    const dosUl = document.getElementById('dosList');
    dosUl.innerHTML = '';
    reportData.dos.forEach((d, i) => {
        const li = document.createElement('li');
        li.innerHTML = `<strong>${i+1}. ${d.title}</strong><br>${d.desc}`;
        li.style.cssText = 'padding: 10px 0; border-bottom: 1px solid #a5d6a7;';
        dosUl.appendChild(li);
    });
    
    // ç»˜åˆ¶å®Œæ•´ç‰ˆé›·è¾¾å›¾
    drawRadarChart('fullRadarChart', result.percentageScores);
    
    window.scrollTo(0, 0);
}

// æ”¯ä»˜ç›¸å…³å‡½æ•°
function showWechatScan() {
    const qrElement = document.getElementById('wechatQR');
    if (qrElement) {
        qrElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
        alert('å¾®ä¿¡æ”¯ä»˜è¯·ä¿å­˜äºŒç»´ç ï¼Œ\nç„¶åæ‰“å¼€å¾®ä¿¡æ‰«ä¸€æ‰« â†’ ç›¸å†Œé€‰æ‹©');
    }
}

function copyToClipboard(text, buttonElement) {
    navigator.clipboard.writeText(text).then(function() {
        const originalText = buttonElement.textContent;
        buttonElement.textContent = 'å·²å¤åˆ¶!';
        buttonElement.style.background = '#07C160';
        setTimeout(() => {
            buttonElement.textContent = originalText;
            buttonElement.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        }, 2000);
    }, function(err) {
        alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
    });
}

// ç®¡ç†å‘˜åŠŸèƒ½
function showAdminPanel() {
    document.getElementById('cardVerifyPage').classList.add('hidden');
    document.getElementById('adminPanel').classList.remove('hidden');
}

function verifyAdmin() {
    const password = document.getElementById('adminPassword').value;
    
    if (password === ADMIN_PASSWORD) {
        document.getElementById('adminContent').classList.remove('hidden');
        loadAdminStats();
    } else {
        alert('å¯†ç é”™è¯¯');
    }
}

function loadAdminStats() {
    const cards = JSON.parse(localStorage.getItem('mbtiCards') || '[]');
    
    const total = cards.length;
    const used = cards.filter(c => c.deviceId).length;
    const devices = new Set(cards.filter(c => c.deviceId).map(c => c.deviceId)).size;
    
    document.getElementById('totalCards').textContent = total;
    document.getElementById('usedCards').textContent = used;
    document.getElementById('unusedCards').textContent = total - used;
    document.getElementById('deviceCount').textContent = devices;
    
    const recentRecords = document.getElementById('recentRecords');
    const recentCards = cards
        .filter(c => c.lastUsedAt)
        .sort((a, b) => new Date(b.lastUsedAt) - new Date(a.lastUsedAt))
        .slice(0, 10);
    
    if (recentCards.length === 0) {
        recentRecords.innerHTML = '<div class="record-item">æš‚æ— è®°å½•</div>';
    } else {
        recentRecords.innerHTML = '';
        recentCards.forEach(card => {
            const date = new Date(card.lastUsedAt);
            const dateStr = `${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2,'0')}-${date.getDate().toString().padStart(2,'0')} ${date.getHours().toString().padStart(2,'0')}:${date.getMinutes().toString().padStart(2,'0')}`;
            
            const recordDiv = document.createElement('div');
            recordDiv.className = 'record-item';
            recordDiv.textContent = `${card.code} - ä½¿ç”¨${card.testCount || 1}æ¬¡ - ${dateStr}`;
            recentRecords.appendChild(recordDiv);
        });
    }
}

function generateCards() {
    const count = parseInt(document.getElementById('cardCount').value);
    
    if (!count || count < 1 || count > 1000) {
        alert('è¯·è¾“å…¥1-1000ä¹‹é—´çš„æ•°å­—');
        return;
    }
    
    const cards = JSON.parse(localStorage.getItem('mbtiCards') || '[]');
    const newCards = [];
    
    for (let i = 0; i < count; i++) {
        newCards.push({
            code: generateCardCode(),
            createdAt: new Date().toISOString()
        });
    }
    
    cards.push(...newCards);
    localStorage.setItem('mbtiCards', JSON.stringify(cards));
    
    const text = newCards.map(c => c.code).join('\n');
    const blob = new Blob([text], {type: 'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `MBTIæµ‹è¯„å¡å¯†_${new Date().getTime()}.txt`;
    a.click();
    URL.revokeObjectURL(url);
    
    alert(`æˆåŠŸç”Ÿæˆ${count}ä¸ªå¡å¯†ï¼`);
    loadAdminStats();
}

function generateCardCode() {
    const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
    let code = 'MBTI-';
    
    for (let i = 0; i < 4; i++) {
        code += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    
    code += '-';
    
    for (let i = 0; i < 4; i++) {
        code += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    
    return code;
}

function backToMain() {
    document.getElementById('adminPanel').classList.add('hidden');
    document.getElementById('cardVerifyPage').classList.remove('hidden');
}

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
window.onload = function() {
    const cards = JSON.parse(localStorage.getItem('mbtiCards') || '[]');
    if (cards.length === 0) {
        const testCards = [];
        for (let i = 0; i < 10; i++) {
            testCards.push({
                code: generateCardCode(),
                createdAt: new Date().toISOString()
            });
        }
        localStorage.setItem('mbtiCards', JSON.stringify(testCards));
        console.log('å·²ç”Ÿæˆ10ä¸ªæµ‹è¯•å¡å¯†ï¼Œè¯·åœ¨ç®¡ç†å‘˜åå°æŸ¥çœ‹ï¼ˆå¯†ç ï¼šlss900201ï¼‰');
    }
};
    </script>
</body>
</html>






